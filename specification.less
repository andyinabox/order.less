//! order.less v0.1.0 | Apache License, Version 2.0 | github.com/chromice/order.less

// = = = = = = = = = = = = = = = = = = =
//  order.less behaviour specification =
// = = = = = = = = = = = = = = = = = = =

// Import modules
@import 'source/grid.less';
@import 'source/scale.less';
@import 'source/baseline.less';

// .Test-run 
.Test-run {
	overflow: hidden;
}


// = = = = = = = = =
//  Grid behaviour =
// = = = = = = = = =

.use-grid(12, 20px);

.grid-block {
	float: left;
	overflow: hidden;
	padding-top: 20px;
	padding-bottom: 20px;
	background: green;
	color: #fff;
	text-align: center;
	line-height: 20px;
	
	.grid-block {
		background: yellow;
		color: #333;
	}
	
	span {
		display: block;
		line-height: 20px;
	}
}

#grid-12-4-blocks, #grid-12-4-blocks-ordered, #grid-12-4-blocks-3-children {
	.grid-block {
		.grid-width(3);
		.gutter-margin-left(1);
		
		&:first-child {
			.gutter-margin-left(0);
		}
		
		.grid-block {
			.grid-width(1, 3);
			.gutter-margin-left(1, 3);
			
			&:first-child {
				.gutter-margin-left(0);
			}
		}
	}
}

#grid-12-4-blocks-1-positioned {
	.grid-padding-left(3);
	
	position: relative;
	
	.grid-block {
		.grid-width(3, 9);
		.gutter-margin-left(1, 9);
		
		&:first-child {
			.gutter-margin-left(0);
		}
	}
	
	#positioned-block {
		position: absolute;
		top: 0;
		.grid-left(0);
		.grid-width(3, 12);
		
		+ .grid-block {
			.gutter-margin-left(0);
		}
	}
}

#grid-12-4-blocks-ordered {
	#ordered-block-1 {
		// From 3 to 1
		.grid-margin-left(-6);
	}
	#ordered-block-2 {
		// Sits in place
		.grid-margin-left(3);
	}
	#ordered-block-3 {
		// Sits in place
		// pushed by #ordered-block-2
	}
	#ordered-block-4 {
		// From 1 to 4
		.grid-margin-left(9);
		margin-bottom: -100%;
	}
}

#grid-12-4-blocks-positioned {
	position: relative;
	padding-top: 60px;
	
	.grid-block {
		float: none;
		position: absolute;
		top: 0;
		.grid-width(3);
	}
	#positioned-block-1 {
		.grid-right(9);
	}
	#positioned-block-2 {
		.grid-left(3);
	}
	#positioned-block-3 {
		.grid-left(6);
	}
	#positioned-block-4 {
		.grid-right(0);
	}
}

#grid-10-5-blocks, #grid-10-5-blocks-2-children {
	.grid-block {
		.grid-width((12/5));
		.gutter-margin-left(1);
		
		&:first-child {
			.gutter-margin-left(0);
		}
		
		.grid-block {
			.grid-width((6/5), (12/5));
			.gutter-margin-left(1, (12/5));
			
			&:first-child {
				.gutter-margin-left(0);
			}
		}
	}
}

// = = = = = = = = =
// Scale behaviour =
// = = = = = = = = =

.use-scale(16px, 20px, 1.5);

html {
	font-size: @scale-base;
}

.scale {
	position: relative;
	overflow: scroll;
	overflow-y: hidden !important;
	-webkit-overflow-scrolling: touch;
	
	white-space: nowrap;
	
	.step {
		display: inline-block;
		text-transform: uppercase;
	}
	
	.step--6 { .scale-font-size(-6); }
	.step--5 { .scale-font-size(-5); }
	.step--4 { .scale-font-size(-4); }
	.step--3 { .scale-font-size(-3); }
	.step--2 { .scale-font-size(-2); }
	.step--1 { .scale-font-size(-1); }
	.step-00 { .scale-font-size(00); }
	.step-01 { .scale-font-size(01); }
	.step-02 { .scale-font-size(02); }
	.step-03 { .scale-font-size(03); }
	.step-04 { .scale-font-size(04); }
	.step-05 { .scale-font-size(05); }
	.step-06 { .scale-font-size(06); }
	.step-07 { .scale-font-size(07); }
	.step-08 { .scale-font-size(08); }
	.step-09 { .scale-font-size(09); }
	.step-10 { .scale-font-size(10); }
	.step-11 { .scale-font-size(11); }
	.step-12 { .scale-font-size(12); }
	.step-13 { .scale-font-size(13); }
	.step-14 { .scale-font-size(14); }
	.step-15 { .scale-font-size(15); }
	.step-16 { .scale-font-size(16); }
	.step-17 { .scale-font-size(17); }
	.step-18 { .scale-font-size(18); }
	.step-19 { .scale-font-size(19); }
	.step-20 { .scale-font-size(20); }
}

#scale-normal {
	line-height: 0.85;
}


// = = = = = = = = = = =
//  Baseline behaviour =
// = = = = = = = = = = =

@import 'source/baseline.less';

@offset-gill-sans: 0.345;
@offset-verdana: 0.3986;

.use-baseline(@scale-base, 1.5, @offset-verdana);

html {
	font-family: Verdana, sans-serif;
	font-size: @baseline-font-size;
	line-height: @baseline-line-height;
}

#baseline-horizontal {
	background: url(http://basehold.it/i/24/ff0000) 0 -6px;
	
	> div {
		float: left;
		.grid-width(3);
		.gutter-margin-left(1);
		
		&:first-child {
			.gutter-margin-left(0);
		}
		
		.baseline-margin-top(1);
	}
	
	.large {
		.baseline-adjust(30px, 4/5);
	}
	.small {
		.baseline-adjust(@baseline-font-size, 5/4);
	}
	.tiny {
		.baseline-adjust(12px, 4/3);
	}
}

#baseline-vertical {
	background: url(http://basehold.it/i/24/ff0000) 0 -6px;
	
	h1 {
		.baseline-adjust(50px, 4/7);
		.baseline-margin-top(1);
		.baseline-margin-bottom(1);
	}
	p {
		.baseline-margin-top(0);
		.baseline-margin-bottom(1);
	}
}

#baseline-vertical-family {
	background: url(http://basehold.it/i/24/ff0000) 0 -6px;
	
	h1 {
		font-family: "Gill Sans", sans-serif;
		.baseline-adjust(50px, 4/7, @offset-gill-sans);
		.baseline-margin-top(1);
		.baseline-margin-bottom(1);
	}
	p {
		.baseline-margin-top(0);
		.baseline-margin-bottom(1);
	}
}

#baseline-vertical-line {
	background: url(http://basehold.it/i/24/ff0000) 0 -6px;
	
	h1 {
		font-family: "Gill Sans", sans-serif;
		.baseline-adjust(@baseline-font-size, 5/4, @offset-gill-sans);
		.baseline-margin-top(1);
		.baseline-padding-bottom(0.10);
		border-bottom: 2px solid;
		.baseline-margin-bottom(0.9, -2px);
	}
	p {
		.baseline-margin-top(0);
		.baseline-margin-bottom(1);
	}
}
#baseline-vertical-offset {
	overflow: visible;
	position: relative;
	.grid-padding-left(4);
	background: url(http://basehold.it/i/24/ff0000) 0 -6px;
	
	p {
		.baseline-margin-top(0);
		.baseline-margin-bottom(1);
	}
	
	.comments, .meta {
		position: absolute;
		left: 0;
	}
	.meta {
		.baseline-resize(18px, 4/3);
		.baseline-top(0);
		.baseline-margin-bottom(0);
	}
	.comments {
		.baseline-resize(14px, 4/3);
		.baseline-bottom(0);
		.baseline-margin-bottom(0);
	}
}